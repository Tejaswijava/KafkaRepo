<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns="http://www.omg.org/bpmn20" xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:bpsim="http://www.bpsim.org/schemas/1.0" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:drools="http://www.jboss.org/drools" id="_Wcg1kLGVEe2-d8Bo-N10rg" xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd http://www.jboss.org/drools drools.xsd http://www.bpsim.org/schemas/1.0 bpsim.xsd http://www.omg.org/spec/DD/20100524/DC DC.xsd http://www.omg.org/spec/DD/20100524/DI DI.xsd " exporter="jBPM Process Modeler" exporterVersion="2.0" targetNamespace="http://www.omg.org/bpmn20">
  <bpmn2:itemDefinition id="_caseFile_userdataItem" structureRef="com.testspace4.kafkapushdepen.UserData"/>
  <bpmn2:itemDefinition id="_caseFile_userItem" structureRef="com.testspace4.kafkapushdepen.user"/>
  <bpmn2:itemDefinition id="_caseFile_caseSRItem" structureRef="com.testspace4.kafkapushdepen.caseSRDto"/>
  <bpmn2:itemDefinition id="__784F3BFF-DB1A-497B-AE99-BDCFBE077C4A_dataInputXItem" structureRef="com.testspace4.kafkapushdepen.caseSRDto"/>
  <bpmn2:itemDefinition id="topic-startCaseType" structureRef="com.testspace4.kafkapushdepen.caseSRDto"/>
  <bpmn2:message id="_Wcg1lLGVEe2-d8Bo-N10rg" itemRef="topic-startCaseType" name="topic-startCase"/>
  <bpmn2:process id="kafkapushdepen.AdhocEndTestMessage" drools:packageName="com.testspace4.kafkapushdepen" drools:version="1.0" drools:adHoc="true" name="AdhocEndTestMessage" isExecutable="true" processType="Public">
    <bpmn2:property id="caseFile_userdata" itemSubjectRef="_caseFile_userdataItem" name="caseFile_userdata"/>
    <bpmn2:property id="caseFile_user" itemSubjectRef="_caseFile_userItem" name="caseFile_user"/>
    <bpmn2:property id="caseFile_caseSR" itemSubjectRef="_caseFile_caseSRItem" name="caseFile_caseSR"/>
    <bpmn2:adHocSubProcess id="_C1FB65FB-AD77-4402-B566-9DC8A73E6C07" name="Sub-process" ordering="Sequential">
      <bpmn2:extensionElements>
        <drools:metaData name="elementname">
          <drools:metaValue><![CDATA[Sub-process]]></drools:metaValue>
        </drools:metaData>
        <drools:metaData name="customAutoStart">
          <drools:metaValue><![CDATA[true]]></drools:metaValue>
        </drools:metaData>
      </bpmn2:extensionElements>
      <bpmn2:sequenceFlow id="_FD7A440E-129E-4A57-B600-56EA28CA1A7B" sourceRef="_3195E548-A257-4850-BAE7-90865003FD16" targetRef="_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A">
        <bpmn2:extensionElements>
          <drools:metaData name="isAutoConnection.source">
            <drools:metaValue><![CDATA[true]]></drools:metaValue>
          </drools:metaData>
          <drools:metaData name="isAutoConnection.target">
            <drools:metaValue><![CDATA[true]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
      </bpmn2:sequenceFlow>
      <bpmn2:endEvent id="_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A">
        <bpmn2:incoming>_FD7A440E-129E-4A57-B600-56EA28CA1A7B</bpmn2:incoming>
        <bpmn2:dataInput id="_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A_dataInputX" drools:dtype="com.testspace4.kafkapushdepen.caseSRDto" itemSubjectRef="__784F3BFF-DB1A-497B-AE99-BDCFBE077C4A_dataInputXItem" name="data"/>
        <bpmn2:dataInputAssociation id="_Wcg1krGVEe2-d8Bo-N10rg">
          <bpmn2:sourceRef>caseFile_caseSR</bpmn2:sourceRef>
          <bpmn2:targetRef>_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A_dataInputX</bpmn2:targetRef>
        </bpmn2:dataInputAssociation>
        <bpmn2:inputSet id="_Wcg1kbGVEe2-d8Bo-N10rg">
          <bpmn2:dataInputRefs>_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A_dataInputX</bpmn2:dataInputRefs>
        </bpmn2:inputSet>
        <bpmn2:messageEventDefinition id="_Wcg1k7GVEe2-d8Bo-N10rg" drools:msgref="topic-startCase" messageRef="_Wcg1lLGVEe2-d8Bo-N10rg"/>
      </bpmn2:endEvent>
      <bpmn2:scriptTask id="_3195E548-A257-4850-BAE7-90865003FD16" name="Task" scriptFormat="http://www.java.com/java">
        <bpmn2:extensionElements>
          <drools:metaData name="elementname">
            <drools:metaValue><![CDATA[Task]]></drools:metaValue>
          </drools:metaData>
          <drools:metaData name="customAutoStart">
            <drools:metaValue><![CDATA[true]]></drools:metaValue>
          </drools:metaData>
        </bpmn2:extensionElements>
        <bpmn2:outgoing>_FD7A440E-129E-4A57-B600-56EA28CA1A7B</bpmn2:outgoing>
        <bpmn2:script><![CDATA[System.out.println("user from script task name :"+caseFile_caseSR);
//System.out.println("user from script task name :"+(caseFile_user).getAge());

//System.out.println(org.kie.api.runtime.process.CaseData(data.get("user")));

//System.out.println(kcontext.getCaseData().getData("user"));

//com.testspace4.kafkapushdepen.user userobj =(com.testspace4.kafkapushdepen.user)kcontext.getCaseData().getData("user");

System.out.println(kcontext.getCaseData().getData("caseId"));

//System.out.println(((CaseData)kcontext.getCaseData()).getCaseId());]]></bpmn2:script>
      </bpmn2:scriptTask>
      <bpmn2:completionCondition xsi:type="bpmn2:tFormalExpression" id="_Wcg1lbGVEe2-d8Bo-N10rg" language="http://www.mvel.org/2.0"><![CDATA[autocomplete]]></bpmn2:completionCondition>
    </bpmn2:adHocSubProcess>
  </bpmn2:process>
  <bpmndi:BPMNDiagram id="_Wcg1lrGVEe2-d8Bo-N10rg">
    <bpmndi:BPMNPlane id="_Wcg1l7GVEe2-d8Bo-N10rg" bpmnElement="kafkapushdepen.AdhocEndTestMessage">
      <bpmndi:BPMNShape id="shape__C1FB65FB-AD77-4402-B566-9DC8A73E6C07" bpmnElement="_C1FB65FB-AD77-4402-B566-9DC8A73E6C07" isExpanded="true">
        <dc:Bounds height="253.0" width="653.0" x="150.0" y="136.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="shape__3195E548-A257-4850-BAE7-90865003FD16" bpmnElement="_3195E548-A257-4850-BAE7-90865003FD16">
        <dc:Bounds height="102.0" width="154.0" x="285.0" y="194.0"/>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="edge_shape__3195E548-A257-4850-BAE7-90865003FD16_to_shape__784F3BFF-DB1A-497B-AE99-BDCFBE077C4A" bpmnElement="_FD7A440E-129E-4A57-B600-56EA28CA1A7B">
        <di:waypoint xsi:type="dc:Point" x="439.0" y="245.0"/>
        <di:waypoint xsi:type="dc:Point" x="519.0" y="245.0"/>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNShape id="shape__784F3BFF-DB1A-497B-AE99-BDCFBE077C4A" bpmnElement="_784F3BFF-DB1A-497B-AE99-BDCFBE077C4A">
        <dc:Bounds height="56.0" width="56.0" x="519.0" y="217.0"/>
      </bpmndi:BPMNShape>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
  <bpmn2:relationship id="_Wcg1mLGVEe2-d8Bo-N10rg" type="BPSimData">
    <bpmn2:extensionElements>
      <bpsim:BPSimData>
        <bpsim:Scenario xsi:type="bpsim:Scenario" id="default" name="Simulationscenario">
          <bpsim:ScenarioParameters xsi:type="bpsim:ScenarioParameters"/>
        </bpsim:Scenario>
      </bpsim:BPSimData>
    </bpmn2:extensionElements>
    <bpmn2:source>_Wcg1kLGVEe2-d8Bo-N10rg</bpmn2:source>
    <bpmn2:target>_Wcg1kLGVEe2-d8Bo-N10rg</bpmn2:target>
  </bpmn2:relationship>
</bpmn2:definitions>
